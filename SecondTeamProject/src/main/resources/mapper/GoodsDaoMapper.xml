<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.pro.sm.dao.Goods.GoodsDao">
    <!--分页-->
    <!-- 查询商品信息 -->
    <!--  select * from
        (select rownum rn,t.* from emp t where rownum &lt; #{end}) a
        where a.rn &gt; #{start}-->
    <select id="getGoodsList" resultType="map">
        select * from
        (select rownum rn,t.GOODS_ID,t.GOODS_NAME,t.GOODS_PRICE,to_char(t.OPERATE_TIME,'yyyy-mm-dd hh24:mi:ss') as OPERATE_TIME,
        t.GOODS_NUM from tb_goods t where rownum &lt; #{end}) a where a.rn &gt; #{start}
    </select>
    <!-- 查询数量 -->
    <select id="getGoodsCount" resultType="int">
        select count(*) from tb_goods
    </select>
    <!-- 增加商品 -->
    <insert id="add">
        insert into tb_goods(GOODS_ID,GOODS_NAME,GOODS_PRICE,OPERATE_TIME,GOODS_NUM) values(tb_goods_id.nextval,#{GOODS_NAME},#{GOODS_PRICE},sysdate,#{GOODS_NUM})
    </insert>
    <!-- 根据id删除goods -->
    <delete id="delete">
        delete from tb_goods where GOODS_ID=#{GOODS_ID}
    </delete>
    <!-- 根据GOODS_ID修改商品信息 -->
    <update id="update">
        update tb_goods set GOODS_NAME=#{GOODS_NAME},GOODS_PRICE=#{GOODS_PRICE},OPERATE_TIME=sysdate,GOODS_NUM=#{GOODS_NUM} where GOODS_ID=#{GOODS_ID}
    </update>
</mapper>
<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.pro.sm.dao.room.RoomTypeDao">
    <select id="selectRoomType" resultType="map">
        select * from tb_roomtype
    </select>
    <select id="selectRoom" resultType="map">
        select * from
        (select * from
        (select rownum rn ,room_code,room_typename,room_state
        from tb_room t,tb_roomtype p
        where t.room_typeid=p.room_typeid order by room_code) where rownum &lt; #{end}) a
        where a.rn &gt; #{start}
    </select>
    <select id="getPageCount" resultType="int">
        select count(*) from tb_room
    </select>
    <insert id="insertRoom">
        insert into tb_room(room_coode,room_typename,room_state) values(#{ROOM_CODE},(select room_typename from tb_roomtype where room_typename=#{ROOM_TYPENAME}),#{ROOM_STATE})
    </insert>
</mapper>